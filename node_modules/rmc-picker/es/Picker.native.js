import _extends from 'babel-runtime/helpers/extends';
import _classCallCheck from 'babel-runtime/helpers/classCallCheck';
import _createClass from 'babel-runtime/helpers/createClass';
import _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';
import _inherits from 'babel-runtime/helpers/inherits';
import React from 'react';
import NativePicker from './NativePicker';
import isChildrenEqual from './isChildrenEqual';
var Item = NativePicker.Item;

var Picker = function (_React$Component) {
    _inherits(Picker, _React$Component);

    function Picker() {
        _classCallCheck(this, Picker);

        return _possibleConstructorReturn(this, (Picker.__proto__ || Object.getPrototypeOf(Picker)).apply(this, arguments));
    }

    _createClass(Picker, [{
        key: 'getValue',
        value: function getValue() {
            return this.props.selectedValue || this.props.children && this.props.children[0] && this.props.children[0].value;
        }
    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps) {
            return this.props.selectedValue !== nextProps.selectedValue || !isChildrenEqual(this.props.children, nextProps.children, this.props.pure);
        }
    }, {
        key: 'render',
        value: function render() {
            var children = this.props.children.map(function (c) {
                return React.createElement(Item, _extends({}, c, { key: c.value + '' }));
            });
            return React.createElement(
                NativePicker,
                this.props,
                children
            );
        }
    }]);

    return Picker;
}(React.Component);

Picker.defaultProps = {
    pure: true,
    children: []
};
export default Picker;